{% extends 'layouts/base.html' %}

{% block title %} Extensión Requerida {% endblock title %}

{% block content %}
<div class="pc-container">
  <div class="pc-content">
    <div class="row">
      <div class="col-md-6 mx-auto">
        <div class="card">
          <div class="card-header">
            <h5>Extensión de Chrome Requerida</h5>
          </div>
          <div class="card-body text-center">
            <div class="mb-4">
              <i class="ti ti-puzzle text-primary" style="font-size: 48px;"></i>
            </div>
            <h3 class="mb-3">Extensión no detectada</h3>
            <p class="mb-4">
              Para utilizar todas las funcionalidades de la aplicación, necesitas instalar nuestra extensión de Chrome.
            </p>
            <div class="d-grid gap-2">
              <a href="https://chromewebstore.google.com/detail/datarmony-data-interprete/ckbljbnfcnaejohkpbcaepjhgimcckji" 
                 class="btn btn-primary"
                 target="_blank">
                <i class="ti ti-download me-2"></i>
                Descargar Extensión en la Web Store
              </a>
              <p class="text-muted mt-3 small">
                Una vez descargada, descomprime el archivo y sigue las instrucciones de instalación en Chrome.
              </p>
            </div>
            
            <!-- Nuevo bloque para usuarios que ya tienen la extensión instalada -->
            <div class="mt-5 pt-3 border-top">
              <h5 class="mb-3">¿Ya has instalado la extensión?</h5>
              <p>Si ya has instalado la extensión y has recargado la página, haz clic en el botón de abajo para verificar y continuar.</p>
              <button onclick="window.checkAndRedirect()" class="btn btn-success">
                <i class="ti ti-check me-2"></i>
                Verificar y continuar
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock content %}

{% block extra_js %}
{{ super() }}
{% endblock extra_js %}
